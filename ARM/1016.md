# Soc导论  
- 将计算机的基本结构集成到一个芯片里面。这样的结构成为SoC。ARM芯片种包含有arm核，AMBA总线和物理IP核。  
- soc的优点：  
### 比较  
- soc内部可以集成GPU，各种解码器等，可以运行不同的操作系统。
- 相比SoC，CPU还需要外部存储器和外设的支持。  
## SoC设计流程  
- IP核的设计  
- SoC设计  
- 芯片加工  
- 产品制造  
在这个过程中，FPGA一般作为硬件原型的验证平台。  
## SoC体系架构  
系统主设备通过系统总线连接到了存储器、定时器、数模转换器、GPIO、看门狗定时器。  
### 全可编程SoC技术  
SoC的缺点：灵活性差，专用性强，设计复杂。  
因为以上的缺点，产生了全可编程SoC结构。  

### 基于软核的全可编程SoC  
### 基于硬核的。。。
后者是把一个CPU集成到了FPGA芯片里面。其性能比较搞，但是灵活性比较低。  

软件开发是通过keil实现的。编写好机器码后可以把它放在FPGA里面。

# cortex-m0 CPU结构  
ARM采用的是精简指令集。  
ARM只授权IP核，不生产芯片。  
该芯片采用的是冯诺依曼架构，使用thumb指令集。  
ARM架构描述了指令的细节、编程模型、异常模型等。  
该核心采用的是ARMv6架构。  
### 该处理器的特点  
- 采用32位RISC架构的处理器  
- 采用冯诺依曼架构  
- 支持绝大部分的thumb1指令和部分的thumb2架构。  
- 该处理器架构包含了56条指令。  
- 支持一个不可屏蔽中断和最多32个物理中断。  
- 提供休眠模式。  
### 处理器核  
包含有内部寄存器、算数逻辑单元、数据通路和控制逻辑  
采用了三级流水线结构  
### 嵌套中断向量控制器  
对中断进行管理，对处理器核进行中断。  
### 总线系统  
- 内部总线系统  
- 处理器核内部的数据通道  
- AHB Lite 接口单元  

Cortex-M0系统所有的总线宽度均为32位。  
### 调试子系统  
产生调试事件时，讲处理器核设置为停止状态。  

## cortex-m0处理器寄存器组  
- 用于保存暂时使用的数据  
- 访问速度比较快  
- 采用了加载-保存结构  
### 结构  
通用寄存器包括低8组和高8组。低寄存器  是所有的thumb指令都能访问的；高寄存器只有部分可以。
R13到R15有特殊功能。  
### 堆栈指针  
R13寄存器可以当作堆栈指针。  
### 程序计数器  
R15寄存器可用作程序计数器。用于记录当前指令代码的地址。  
对于分支指令，如函数调用，在PC指向指定地址的同时，当前PC的值被保存到了链接寄存器R14中。  
### 组合程序状态寄存器  
xPSR同时结合了APSR,IPSR,EPSR三个寄存器的值。  
APSR中包含了符号标志、零标志、进位标志、溢出标志等。  
IPSR  
EPSR表示是否处于thumb状态。  
### 中断屏蔽特殊寄存器  
当PRIMASK为1时屏蔽其他所有的中断。  
### 特殊寄存器  
  
## Cortex-M0存储器空间映射